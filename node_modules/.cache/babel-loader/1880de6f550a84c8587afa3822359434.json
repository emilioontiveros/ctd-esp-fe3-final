{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\FrontIII\\\\fe3-final-main\\\\src\\\\Components\\\\Card.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ContextGlobal } from \"./utils/global.context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Card = _ref => {\n  _s();\n\n  let {\n    name,\n    username,\n    id\n  } = _ref;\n  const navigate = useNavigate();\n  const {\n    state,\n    dispatch\n  } = useContext(ContextGlobal);\n  const [favorito, setFavorito] = useState(false);\n  const [update, setUpdate] = useState(false);\n\n  const addFav = () => {\n    const favoritos = localStorage.getItem(\"favoritos\");\n\n    if (favoritos) {\n      let listaParseada = JSON.parse(favoritos);\n      const listaFiltrada = listaParseada.filter(item => item.id !== id);\n      const existe = listaFiltrada.length !== listaParseada.length;\n      existe ? listaParseada = listaFiltrada : listaParseada.push({\n        name: name,\n        username: username,\n        id: id\n      });\n      localStorage.setItem(\"favoritos\", JSON.stringify(listaParseada));\n      dispatch({\n        type: \"FAVS\",\n        payload: { ...state,\n          favs: listaParseada\n        }\n      });\n    } else {\n      localStorage.setItem(\"favoritos\", JSON.stringify([{\n        name: name,\n        username: username,\n        id: id\n      }]));\n      dispatch({\n        type: \"FAVS\",\n        payload: { ...state,\n          favs: [{\n            name: name,\n            username: username,\n            id: id\n          }]\n        }\n      });\n    }\n\n    setFavorito(!favorito);\n    setUpdate(!update);\n  };\n\n  useEffect(() => {\n    const favoritos = localStorage.getItem(\"favoritos\");\n\n    if (favoritos) {\n      const lista = JSON.parse(favoritos);\n      const cardEncontrada = lista.find(item => item.id === id);\n\n      if (cardEncontrada) {\n        setFavorito(true);\n      }\n    }\n  }, [update]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"./images/doctor.jpg\",\n      alt: \"doctor\",\n      onClick: () => navigate(`/dentist/${id}`)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addFav,\n      className: favorito ? \"favButton added\" : \"favButton\",\n      children: favorito ? \"Fav\" : \"Add fav\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Card, \"yclK5aNAVyZxEJJVUb+JQnYe8LM=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Card;\nexport default Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"names":["React","useState","useContext","useEffect","useNavigate","ContextGlobal","Card","name","username","id","navigate","state","dispatch","favorito","setFavorito","update","setUpdate","addFav","favoritos","localStorage","getItem","listaParseada","JSON","parse","listaFiltrada","filter","item","existe","length","push","setItem","stringify","type","payload","favs","lista","cardEncontrada","find"],"sources":["C:/Users/pc/Desktop/FrontIII/fe3-final-main/src/Components/Card.jsx"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ContextGlobal } from \"./utils/global.context\";\n\nconst Card = ({ name, username, id }) => {\n\n  const navigate = useNavigate();\n  const { state, dispatch } = useContext(ContextGlobal);\n  const [favorito, setFavorito] = useState(false);\n  const [update, setUpdate] = useState(false);\n\n  const addFav = () => {\n    const favoritos = localStorage.getItem(\"favoritos\");\n    if (favoritos) {\n      let listaParseada = JSON.parse(favoritos);\n      const listaFiltrada = listaParseada.filter(item => item.id !== id);\n      const existe = listaFiltrada.length !== listaParseada.length;\n      existe ? listaParseada = listaFiltrada : listaParseada.push({name: name, username: username, id: id});\n      localStorage.setItem(\"favoritos\", JSON.stringify(listaParseada));\n      dispatch({\n        type: \"FAVS\",\n        payload: {\n          ...state,\n          favs: listaParseada\n        }\n      })\n    } else {\n      localStorage.setItem(\"favoritos\", JSON.stringify([{name: name, username: username, id: id}]))\n      dispatch({\n        type: \"FAVS\",\n        payload: {\n          ...state,\n          favs: [{name: name, username: username, id: id}]\n        }\n      })\n    }\n    setFavorito(!favorito)\n    setUpdate(!update)\n  }\n\n  useEffect(() => {\n    const favoritos = localStorage.getItem(\"favoritos\");\n    if (favoritos) {\n      const lista = JSON.parse(favoritos)\n      const cardEncontrada = lista.find(item => item.id === id);\n      if (cardEncontrada) {\n        setFavorito(true)\n      }\n    }\n  }, [update])\n\n  return (\n    <div className=\"card\">\n      <img src=\"./images/doctor.jpg\" alt=\"doctor\" onClick={() => navigate(`/dentist/${id}`)}/>\n      <h4>{name}</h4>\n      <p>{username}</p>\n      <button onClick={addFav} className={favorito ? \"favButton added\" : \"favButton\"}>{favorito ? \"Fav\" : \"Add fav\"}</button>\n    </div>\n  )\n  \n\n};\n\nexport default Card;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}